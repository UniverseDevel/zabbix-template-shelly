<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.4</version>
    <date>2021-08-02T18:59:02Z</date>
    <groups>
        <group>
            <uuid>f609ef9a7ec748ae8ceb88ad929b7613</uuid>
            <name>Shelly</name>
        </group>
        <group>
            <uuid>36bff6c29af64692839d077febfc7079</uuid>
            <name>Templates/Network devices</name>
        </group>
    </groups>
    <templates>
        <template>
            <uuid>e5e4158ec3584ce6ade9e13c6b09bc56</uuid>
            <template>Template Shelly Motion</template>
            <name>Template Shelly Motion</name>
            <templates>
                <template>
                    <name>Template Module ICMP Ping</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Shelly</name>
                </group>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>b182a3f49dfa4a868d2aa11f2cbab8ee</uuid>
                    <name>Skipped actions</name>
                    <type>DEPENDENT</type>
                    <key>actions_stats.skipped</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.actions_stats.skipped</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>8787a6f12e494a369b126d06fa4b6a9e</uuid>
                            <expression>change(/Template Shelly Motion/actions_stats.skipped)&gt;0</expression>
                            <name>At least one action has been skipped</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>6371b845439a4c66a6a6a6f3627b252c</uuid>
                    <name>Battery percentage</name>
                    <type>DEPENDENT</type>
                    <key>bat.value</key>
                    <delay>0</delay>
                    <units>%</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.bat.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battery</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>c6fdad66212e4e2d82c6574b8c0617fd</uuid>
                            <expression>last(/Template Shelly Motion/bat.value)&lt;=10</expression>
                            <name>Sensor battery is low</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>876689f576c34b2499754656e4e5b6ad</uuid>
                            <expression>last(/Template Shelly Motion/bat.value)&gt;10 and last(/Template Shelly Motion/bat.value)&lt;=20</expression>
                            <name>Sensor battery is low</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>87918a13ce8f4e43b9f09b58905a16a1</uuid>
                    <name>Battery voltage</name>
                    <type>DEPENDENT</type>
                    <key>bat.voltage</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.bat.voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battery</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>16e24d3bea4643909289f2729dbbd078</uuid>
                    <name>System configuration changes</name>
                    <type>DEPENDENT</type>
                    <key>cfg_changed_cnt</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cfg_changed_cnt</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>4060facac10547d59fd25f57a1ac0761</uuid>
                            <expression>change(/Template Shelly Motion/cfg_changed_cnt)&gt;0</expression>
                            <name>System configuration has been changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1796b216f22540a498bbcdd2f289b3b5</uuid>
                    <name>Charger connected</name>
                    <type>DEPENDENT</type>
                    <key>charger</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.charger</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c14500236c4848f3ae829ccdbd93483c</uuid>
                    <name>Cloud connected</name>
                    <type>DEPENDENT</type>
                    <key>cloud.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>da45482d40b44e5b8e761053bce07c48</uuid>
                            <expression>change(/Template Shelly Motion/cloud.connected)&lt;&gt;0</expression>
                            <name>Cloud connection state has changed</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>b2b35071152b48d5b1ea2e41fc26ab6d</uuid>
                    <name>Cloud enabled</name>
                    <type>DEPENDENT</type>
                    <key>cloud.enabled</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.enabled</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>9dfb447d1211449c939be9258d8e8e0c</uuid>
                            <expression>change(/Template Shelly Motion/cloud.enabled)&lt;&gt;0</expression>
                            <name>Cloud configuration has changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>33d5ca368f844f23a0f6c1c3b6357cb9</uuid>
                    <name>File system free size</name>
                    <type>DEPENDENT</type>
                    <key>fs_free</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>abce78709c4e4287adef784f8ce6bc28</uuid>
                    <name>File system total size</name>
                    <type>DEPENDENT</type>
                    <key>fs_size</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_size</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>bf34b11182194363b1eb807f82db2dd6</uuid>
                    <name>Lux illumination</name>
                    <type>DEPENDENT</type>
                    <key>lux.illumination</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.illumination</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>17e40ac5118a4077b0fcf833809d8ede</uuid>
                    <name>Lux sensor self-check</name>
                    <type>DEPENDENT</type>
                    <key>lux.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Sefl-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>315b506e11dc43f683c9ed9892d68b79</uuid>
                    <name>Lux value</name>
                    <type>DEPENDENT</type>
                    <key>lux.value</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>fcc21fff6f7048f89d364c671e3b115a</uuid>
                    <name>MQTT connected</name>
                    <type>DEPENDENT</type>
                    <key>mqtt.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.mqtt.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>MQTT</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>3fbd3df9794a4a69a706512332ffd59e</uuid>
                            <expression>change(/Template Shelly Motion/mqtt.connected)&lt;&gt;0</expression>
                            <name>MQTT connection state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>b673f5d7502240248b7b6bd3b3a68aa7</uuid>
                    <name>RAM free</name>
                    <type>DEPENDENT</type>
                    <key>ram_free</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>eb3a1f3530274fe98d9ffab706586030</uuid>
                    <name>RAM total</name>
                    <type>DEPENDENT</type>
                    <key>ram_total</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>25974414e1cc4701b7f7eaa871dfee63</uuid>
                    <name>Motion sensor active</name>
                    <type>DEPENDENT</type>
                    <key>sensor.active</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.active</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>46e649c53c6c437cac6948f1bd4c2cc3</uuid>
                            <expression>last(/Template Shelly Motion/sensor.active)=&quot;true&quot;</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>last(/Template Shelly Motion/sensor.active)=&quot;false&quot;</recovery_expression>
                            <name>Motion sensor active</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Motion sensor</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1467e5abcc38479fa71bbba68f1e6ab5</uuid>
                    <name>Motion sensor self-check</name>
                    <type>DEPENDENT</type>
                    <key>sensor.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Sefl-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>430cd77e6ea444c28924b3021892febd</uuid>
                    <name>Motion detection</name>
                    <type>DEPENDENT</type>
                    <key>sensor.motion</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Motion</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.motion</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>60d5d6b7d1db4ba693bbabdbe51e4630</uuid>
                    <name>Tamper detection</name>
                    <type>DEPENDENT</type>
                    <key>sensor.vibration</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Tampering</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.vibration</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>629c64f8242c445ab53b002f7e7b3164</uuid>
                    <name>Status data</name>
                    <type>HTTP_AGENT</type>
                    <key>status</key>
                    <delay>30</delay>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <authtype>BASIC</authtype>
                    <username>{$SHELLY_USER}</username>
                    <password>{$SHELLY_PASS}</password>
                    <description>Collect data from Shelly device status API.</description>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.body</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <timeout>25s</timeout>
                    <url>http://{HOST.IP}/status</url>
                    <follow_redirects>NO</follow_redirects>
                    <output_format>JSON</output_format>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Data collection</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>38117ec9b9114443a56f727b60eb3367</uuid>
                            <expression>nodata(/Template Shelly Motion/status,180s)=1</expression>
                            <name>No data received</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Data collection</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a2b80942c39a487a8a057cd53f3cd758</uuid>
                    <name>Device time</name>
                    <type>DEPENDENT</type>
                    <key>unixtime</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.unixtime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>875e7f149e6347aeb139445aa2489a5f</uuid>
                            <expression>fuzzytime(/Template Shelly Motion/unixtime,60s)=0</expression>
                            <name>Time is out of sync</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>d873de862fce4312ae0d51e3cea6b171</uuid>
                    <name>Update available</name>
                    <type>DEPENDENT</type>
                    <key>update.has_update</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.has_update</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>d405b2003e7d4ce78ee4c3cefce81eb9</uuid>
                            <expression>last(/Template Shelly Motion/update.has_update)=&quot;true&quot;</expression>
                            <name>Update available</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>51a1c1999ddc416bae5b16c59c69f114</uuid>
                    <name>Firmware new version</name>
                    <type>DEPENDENT</type>
                    <key>update.new_version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.new_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9f2f7fb1bb81424a845229f71e60e1ee</uuid>
                    <name>Firmware old version</name>
                    <type>DEPENDENT</type>
                    <key>update.old_version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.old_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>9050639bec0d442d9a6face8c5f3df67</uuid>
                            <expression>change(/Template Shelly Motion/update.old_version)&lt;&gt;0</expression>
                            <name>Version has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>142a08d145df4da4a30af028f381bb32</uuid>
                    <name>Uptime</name>
                    <type>DEPENDENT</type>
                    <key>uptime</key>
                    <delay>0</delay>
                    <units>uptime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.uptime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>0bd330b80ba14509980f52c531e797b2</uuid>
                            <expression>change(/Template Shelly Motion/uptime)&lt;0</expression>
                            <name>Device has been restarted</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>ad4d358c47874fb5962081a73aac42fd</uuid>
                    <name>WiFi connected</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a503e8f140ed4c729c3fe4c8556404fc</uuid>
                    <name>WiFi IP</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ip</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ip</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c53b5e9a29bd448c9848ec96a6a26b32</uuid>
                    <name>WiFi RSSI</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.rssi</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>dBm</units>
                    <valuemap>
                        <name>Received Signal Strength Indicator</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.rssi</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>40ba849a48614489b0778687e5215991</uuid>
                    <name>WiFi SSID</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ssid</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ssid</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$SHELLY_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>Device password, if configured</description>
                </macro>
                <macro>
                    <macro>{$SHELLY_USER}</macro>
                    <value>admin</value>
                    <description>Device user, if configured</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>319fdcbc35404cb9ad5f014459403036</uuid>
                    <name>Motion</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Motion</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>No motion</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>b034c6ad33e24658896cf0768693774c</uuid>
                    <name>Received Signal Strength Indicator</name>
                    <mappings>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-30</value>
                            <newvalue>Amazing</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-67</value>
                            <newvalue>Very Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-70</value>
                            <newvalue>Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-80</value>
                            <newvalue>Not Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>LESS_OR_EQUAL</type>
                            <value>-81</value>
                            <newvalue>Unusable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>9369a5ce4f394f2f8a2c2a21d030920c</uuid>
                    <name>Self-check</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Working</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>Not working</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>5f43c56d6fde454dbdaf9f8672d1ded8</uuid>
                    <name>Tampering</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Tamper</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>No tamper</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
    <triggers>
        <trigger>
            <uuid>71c7888b78754f749eba7cdc6da77e13</uuid>
            <expression>last(/Template Shelly Motion/sensor.motion)=1</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>sum(/Template Shelly Motion/sensor.motion,10m)=0 or last(/Template Shelly Motion/sensor.active)=&quot;false&quot;</recovery_expression>
            <name>Motion detected</name>
            <priority>HIGH</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>Motion sensor</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>d2bfc3c5b2ab4b24b81f40142d9ae9e5</uuid>
            <expression>last(/Template Shelly Motion/fs_free)&gt;=last(/Template Shelly Motion/fs_size)*0.8 and last(/Template Shelly Motion/fs_free)&lt;last(/Template Shelly Motion/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>19efb44f5a574a268205631f8f15ecd0</uuid>
            <expression>last(/Template Shelly Motion/fs_free)&gt;=last(/Template Shelly Motion/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>c8f6a50672b84bdc8246adaf6d6b7cae</uuid>
            <expression>last(/Template Shelly Motion/ram_free)&gt;=last(/Template Shelly Motion/ram_total)*0.8 and last(/Template Shelly Motion/ram_free)&lt;last(/Template Shelly Motion/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>d85269fa1e7840c7adabcf79fef4414f</uuid>
            <expression>last(/Template Shelly Motion/ram_free)&gt;=last(/Template Shelly Motion/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>c3d1e7a6d70f4a35946c8c734af6a1f6</uuid>
            <expression>last(/Template Shelly Motion/sensor.vibration)=1 and last(/Template Shelly Motion/sensor.active)=&quot;true&quot;</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>sum(/Template Shelly Motion/sensor.vibration,10m)=0 or last(/Template Shelly Motion/sensor.active)=&quot;false&quot;</recovery_expression>
            <name>Tampering detected</name>
            <priority>HIGH</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>Motion sensor</value>
                </tag>
            </tags>
        </trigger>
    </triggers>
</zabbix_export>
